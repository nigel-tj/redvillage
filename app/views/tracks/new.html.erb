<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card">
        <div class="card-header">
          <h2 class="mb-0">
            <i class="fas fa-music me-2"></i>
            <%= @page_heading %>
          </h2>
        </div>
        <div class="card-body">
          <%= form_for @track, html: { multipart: true } do |f| %>
            <%= render 'shared/errors', object: @track %>

            <div class="row">
              <div class="col-md-6 mb-3">
                <%= f.label :title, class: "form-label" %>
                <%= f.text_field :title, class: 'form-control', required: true, placeholder: 'Track name' %>
                <small class="form-text text-muted">Track name</small>
              </div>

              <div class="col-md-6 mb-3">
                <%= f.label :artist_name, class: "form-label" %>
                <%= f.text_field :artist_name, class: 'form-control', required: true, placeholder: 'Artist name' %>
                <small class="form-text text-muted">Artist name</small>
              </div>
            </div>

            <div class="mb-3">
              <%= f.label :category, class: "form-label" %>
              <%= f.select :category, [["Select category", "none"], ["RCV Playlist", "rcv_playlist"], ["Albums / Mixtapes", "albums_mixtapes"]], {}, { class: 'form-select' } %>
              <small class="form-text text-muted">Select track category</small>
            </div>

            <% if @number_of_tracks == "single" %>
              <div class="mb-3">
                <%= f.label :image, class: "form-label" %>
                <%= f.file_field :image, class: 'form-control', required: true, accept: 'image/*' %>
                <small class="form-text text-muted">Track cover image</small>
              </div>
            <% end %>

            <div class="mb-3">
              <%= f.label :track, class: "form-label" %>
              <% if @number_of_tracks == "single" %>
                <%= f.file_field :track, class: 'form-control', required: true, accept: 'audio/*' %>
              <% else %>
                <%= f.hidden_field :album_id %>
                <%= f.file_field :tracks, class: 'form-control', required: true, multiple: true, accept: 'audio/*' %>
                <small class="form-text text-muted">You can select multiple tracks to upload</small>
              <% end %>
            </div>

            <div class="d-flex justify-content-between mt-4">
              <%= link_to 'Cancel', tracks_path, class: 'btn btn-secondary' %>
              <%= f.submit 'Save Track', class: 'btn btn-primary' %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
