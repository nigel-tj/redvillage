<%= storefront_css(@store) %>
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Orders</h2>
    <%= link_to "Back to Store", store_path(@store), class: "btn btn-outline-primary" %>
  </div>
  
  <% if @orders.any? %>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Order #</th>
            <th>Date</th>
            <th>Items</th>
            <th>Total</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @orders.each do |order| %>
            <tr>
              <td><strong>#<%= order.id %></strong></td>
              <td><%= order.created_at.strftime("%b %d, %Y") %></td>
              <td><%= order.order_items.sum(:quantity) %> items</td>
              <td><strong><%= order.formatted_total %></strong></td>
              <td>
                <span class="badge bg-<%= 
                  case order.status
                  when 'delivered' then 'success'
                  when 'shipped' then 'info'
                  when 'processing' then 'primary'
                  when 'cancelled' then 'danger'
                  else 'warning'
                  end
                %>">
                  <%= order.status.titleize %>
                </span>
              </td>
              <td>
                <%= link_to store_order_path(@store, order), class: "btn btn-sm btn-outline-primary" do %>
                  <i class="fas fa-eye"></i> View
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    
    <%= paginate @orders %>
  <% else %>
    <div class="text-center py-5">
      <i class="fas fa-shopping-bag fa-4x mb-3 text-muted"></i>
      <h4>No orders yet</h4>
      <p class="text-muted">Orders will appear here once customers start purchasing.</p>
    </div>
  <% end %>
</div>

