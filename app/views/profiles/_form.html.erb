<%= form_for @profile, html: { multipart: true } do |f| %>
  <%= render 'shared/errors', object: @profile if defined?(render) %>
  
  <div class="mb-3">
    <%= f.label :bio, class: "form-label" %>
    <%= f.text_area :bio, class: 'form-control', rows: 6, placeholder: "Tell us about yourself, your work, and your passion..." %>
    <small class="form-text text-muted">Your biography. This will be displayed on your public profile.</small>
  </div>

  <div class="mb-3">
    <%= f.label :profile_picture, class: "form-label" %>
    <%= f.file_field :profile_picture, class: 'form-control', accept: 'image/*' %>
    <% if @profile.profile_picture.present? %>
      <div class="mt-2">
        <%= image_tag @profile.profile_picture_url(:thumb), class: "img-thumbnail", style: "max-width: 150px;" if @profile.profile_picture_url.present? %>
      </div>
    <% end %>
    <small class="form-text text-muted">Upload your profile picture.</small>
  </div>

  <div class="mb-3">
    <%= f.label :cover_image, class: "form-label" %>
    <%= f.file_field :cover_image, class: 'form-control', accept: 'image/*' %>
    <% if @profile.cover_image.present? %>
      <div class="mt-2">
        <%= image_tag @profile.cover_image_url(:thumb), class: "img-thumbnail", style: "max-width: 300px;" if @profile.cover_image_url.present? %>
      </div>
    <% end %>
    <small class="form-text text-muted">Upload a cover image for your profile.</small>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= f.label :phone, class: "form-label" %>
      <%= f.text_field :phone, class: 'form-control', placeholder: "+1 (555) 123-4567" %>
      <small class="form-text text-muted">Contact phone number.</small>
    </div>

    <div class="col-md-6 mb-3">
      <%= f.label :website, class: "form-label" %>
      <%= f.text_field :website, class: 'form-control', placeholder: "https://yourwebsite.com" %>
      <small class="form-text text-muted">Your personal or professional website.</small>
    </div>
  </div>

  <div class="mb-3">
    <%= f.label :location, class: "form-label" %>
    <%= f.text_field :location, class: 'form-control', placeholder: "City, Country" %>
    <small class="form-text text-muted">Your location.</small>
  </div>

  <% if ['dj', 'artist', 'photographer', 'videographer', 'designer'].include?(@profile.user.role) %>
    <div class="mb-3">
      <%= f.label :specialization, class: "form-label" %>
      <%= f.text_area :specialization, class: 'form-control', rows: 3, placeholder: "Your areas of expertise or specialization..." %>
      <small class="form-text text-muted">What are you specialized in?</small>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :experience, class: "form-label" %>
    <%= f.text_area :experience, class: 'form-control', rows: 4, placeholder: "Describe your professional experience..." %>
    <small class="form-text text-muted">Your professional experience and background.</small>
  </div>

  <hr class="my-4">
  <h5 class="mb-3">Social Media Links</h5>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= f.label :facebook_url, "Facebook", class: "form-label" %>
      <%= f.text_field :facebook_url, class: 'form-control', placeholder: "https://facebook.com/yourprofile" %>
    </div>

    <div class="col-md-6 mb-3">
      <%= f.label :twitter_url, "Twitter", class: "form-label" %>
      <%= f.text_field :twitter_url, class: 'form-control', placeholder: "https://twitter.com/yourhandle" %>
    </div>
  </div>

  <div class="mb-3">
    <%= f.label :instagram_url, "Instagram", class: "form-label" %>
    <%= f.text_field :instagram_url, class: 'form-control', placeholder: "https://instagram.com/yourprofile" %>
  </div>

  <% if ['dj', 'artist'].include?(@profile.user.role) %>
    <div class="row">
      <div class="col-md-6 mb-3">
        <%= f.label :spotify_url, "Spotify", class: "form-label" %>
        <%= f.text_field :spotify_url, class: 'form-control', placeholder: "https://open.spotify.com/artist/..." %>
      </div>

      <div class="col-md-6 mb-3">
        <%= f.label :soundcloud_url, "SoundCloud", class: "form-label" %>
        <%= f.text_field :soundcloud_url, class: 'form-control', placeholder: "https://soundcloud.com/yourprofile" %>
      </div>
    </div>
  <% end %>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= f.label :youtube_url, "YouTube", class: "form-label" %>
      <%= f.text_field :youtube_url, class: 'form-control', placeholder: "https://youtube.com/yourchannel" %>
    </div>

    <div class="col-md-6 mb-3">
      <%= f.label :linkedin_url, "LinkedIn", class: "form-label" %>
      <%= f.text_field :linkedin_url, class: 'form-control', placeholder: "https://linkedin.com/in/yourprofile" %>
    </div>
  </div>

  <% if ['photographer', 'designer', 'videographer'].include?(@profile.user.role) %>
    <div class="mb-3">
      <%= f.label :pinterest_url, "Pinterest", class: "form-label" %>
      <%= f.text_field :pinterest_url, class: 'form-control', placeholder: "https://pinterest.com/yourprofile" %>
    </div>
  <% end %>

  <% if ['dj', 'artist', 'videographer'].include?(@profile.user.role) %>
    <div class="mb-3">
      <%= f.label :tiktok_url, "TikTok", class: "form-label" %>
      <%= f.text_field :tiktok_url, class: 'form-control', placeholder: "https://tiktok.com/@yourhandle" %>
    </div>
  <% end %>

  <div class="mb-3">
    <div class="form-check">
      <%= f.check_box :public_profile, class: 'form-check-input' %>
      <%= f.label :public_profile, "Allow your profile to be visible to the public", class: 'form-check-label' %>
    </div>
  </div>

  <div class="d-flex justify-content-between mt-4">
    <%= link_to "Cancel", profile_path(@profile), class: 'btn btn-secondary' %>
    <%= f.submit "Update Profile", class: 'btn btn-primary' %>
  </div>
<% end %>

