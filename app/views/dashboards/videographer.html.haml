.container-fluid.mt-4
  .row.mb-4
    .col-md-12
      %h1.mb-4 Videographer Dashboard
      %p Welcome back, #{@user.name}!
      %p.text-muted Manage your video content.
      = render 'shared/profile_quick_links', user: @user

  .row.mb-4
    .col-md-3
      .card.text-center
        .card-body
          %h5.card-title Total Videos
          %h2= @stats[:total_videos]
    .col-md-3
      .card.text-center
        .card-body
          %h5.card-title My Videos
          %h2= @stats[:my_videos]
    .col-md-3
      .card.text-center
        .card-body
          %h5.card-title Quick Actions
          = link_to "Upload Video", new_video_upload_path, class: "btn btn-primary btn-sm w-100 mb-2"
          = link_to "View All Videos", all_videos_path, class: "btn btn-outline-primary btn-sm w-100"
    .col-md-3
      .card.text-center
        .card-body
          %h5.card-title Public View
          = link_to "View Public Videos", videos_path, class: "btn btn-outline-secondary btn-sm w-100"

  .row.mb-4
    .col-md-12
      .card
        .card-header.d-flex.justify-content-between.align-items-center
          %h5.mb-0 My Videos
          = link_to "Upload New Video", new_video_upload_path, class: "btn btn-primary btn-sm"
        .card-body
          - if @videos.any?
            .table-responsive
              %table.table.table-hover
                %thead
                  %tr
                    %th Video Link
                    %th Category
                    %th Created
                    %th Actions
                %tbody
                  - @videos.each do |video|
                    %tr
                      %td
                        - if video.link.present?
                          = link_to video.link.truncate(50), video.link, target: "_blank"
                        - else
                          %span.text-muted No link
                      %td
                        - if video.category.present?
                          %span.badge.bg-secondary= video.category
                      %td= time_ago_in_words(video.created_at) + " ago"
                      %td
                        = link_to "View", video_path(video), class: "btn btn-sm btn-primary me-1"
                        = link_to "Edit", edit_video_path(video), class: "btn btn-sm btn-outline-secondary"
          - else
            %p.text-muted No videos uploaded yet.
            = link_to "Upload Your First Video", new_video_upload_path, class: "btn btn-primary"

  .row.mb-4
    .col-md-12
      .card
        .card-header
          %h5.mb-0 Recent Videos
        .card-body
          - if @recent_videos.any?
            %ul.list-group.list-group-flush
              - @recent_videos.each do |video|
                %li.list-group-item
                  = link_to video.link&.truncate(60) || "Video #{video.id}", video_path(video), class: "fw-bold"
                  %small.text-muted.d-block= time_ago_in_words(video.created_at) + " ago"
          - else
            %p.text-muted No videos available.

